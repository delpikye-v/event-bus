!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).EventBus={})}(this,(function(t){"use strict";var e={busData:new Map,$once:function(t,e){if(t){var a={callback:e,once:!0},n=this.busData.get(t);n?(n.push(a),this.busData.set(t,n)):this.busData.set(t,[a])}},$on:function(t,e){if(t){var a=this.busData.get(t);a?(a.push({callback:e}),this.busData.set(t,a)):this.busData.set(t,[{callback:e}])}},$off:function(t,e){if(e){var a=function(t,e,a){if(a||2===arguments.length)for(var n,s=0,i=e.length;s<i;s++)!n&&s in e||(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))}([],this.busData.get(t)||[],!0),n=a.findIndex((function(t){return t.callback===e}));-1!==n&&a.splice(n,1),0!==a.length?this.busData.set(t,a):this.busData.delete(t)}},$offAll:function(t){this.busData.delete(t)},$emit:function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var n=this.busData.get(t)||[];n.length>0&&(n.forEach((function(t){t.once?t.emitted||(t.callback(e),t.emitted=!0):t.callback.apply(t,e)})),this.busData.set(t,n))}};t.EventBus=e,t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
