!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).EventBus={})}(this,(function(t){"use strict";var e={__prBusData:new Map,$once:function(t,e){if(t){var a={callback:e,once:!0},s=this.__prBusData.get(t);s?(s.push(a),this.__prBusData.set(t,s)):this.__prBusData.set(t,[a])}},$on:function(t,e){if(t){var a=this.__prBusData.get(t);a?(a.push({callback:e}),this.__prBusData.set(t,a)):this.__prBusData.set(t,[{callback:e}])}},$off:function(t,e){if(e){var a=function(t,e,a){if(a||2===arguments.length)for(var s,n=0,i=e.length;n<i;n++)!s&&n in e||(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}([],this.__prBusData.get(t)||[],!0),s=a.findIndex((function(t){return t.callback===e}));-1!==s&&a.splice(s,1),0!==a.length?this.__prBusData.set(t,a):this.__prBusData.delete(t)}},$offAll:function(t){this.__prBusData.delete(t)},$emit:function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var s=this.__prBusData.get(t)||[];s.length>0&&(s.forEach((function(t){t.once?t.emitted||(t.callback(e),t.emitted=!0):t.callback.apply(t,e)})),this.__prBusData.set(t,s))},$reset:function(){this.__prBusData.clear()},eventNames:function(){return Array.from(this.__prBusData.keys())}};t.EventBus=e,t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
