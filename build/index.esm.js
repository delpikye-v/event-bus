var t={busData:new Map,$once:function(t,a){if(t){var e={callback:a,once:!0},s=this.busData.get(t);s?(s.push(e),this.busData.set(t,s)):this.busData.set(t,[e])}},$on:function(t,a){if(t){var e=this.busData.get(t);e?(e.push({callback:a}),this.busData.set(t,e)):this.busData.set(t,[{callback:a}])}},$off:function(t,a){if(a){var e=function(t,a,e){if(e||2===arguments.length)for(var s,i=0,n=a.length;i<n;i++)!s&&i in a||(s||(s=Array.prototype.slice.call(a,0,i)),s[i]=a[i]);return t.concat(s||Array.prototype.slice.call(a))}([],this.busData.get(t)||[],!0),s=e.findIndex((function(t){return t.callback===a}));-1!==s&&e.splice(s,1),0!==e.length?this.busData.set(t,e):this.busData.delete(t)}},$offAll:function(t){this.busData.delete(t)},$emit:function(t){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];var s=this.busData.get(t)||[];s.length>0&&(s.forEach((function(t){t.once?t.emitted||(t.callback(a),t.emitted=!0):t.callback.apply(t,a)})),this.busData.set(t,s))}};export{t as EventBus,t as default};
